import asyncio
import random
from datetime import datetime, time, timedelta, timezone
from telegram import InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, ContextTypes, CallbackQueryHandler
from dotenv import load_dotenv
import os


load_dotenv('bot_token.env')  # ÑÐ²Ð½Ð¾ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ñ„Ð°Ð¹Ð»
BOT_TOKEN = os.getenv('BOT_TOKEN')


AVERAGE_GLASSES_PER_DAY = 10


CAT_QUOTES = [
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ Ð¶Ð¸Ð·Ð½ÑŒ, Ð° Ñ‚Ñ‹ â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ±ðŸ’§",
    "ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð³Ð»Ð¾Ñ‚Ð¾Ðº Ð²Ð¾Ð´Ñ‹ â€” ÑÑ‚Ð¾ ÑˆÐ°Ð³ Ðº Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑŽ, ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ’–",
    "ÐÐµ Ð·Ð°Ð±Ñ‹Ð²Ð°Ð¹ Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¼Ð¸Ð»Ñ‹Ð¹ ÐºÐ¾Ñ‚Ñ‘Ð½Ð¾Ðº! ðŸŒˆ",
    "Ð¢Ñ‹ ÑÐ¿Ñ€Ð°Ð²Ð¸ÑˆÑŒÑÑ, ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ’ª",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÑÐ¸Ð»ÑŒÐ½Ñ‹Ð¼ Ð¸ ÐºÑ€Ð°ÑÐ¸Ð²Ñ‹Ð¼! ðŸŒŸ",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº, Ð¸ Ð±ÑƒÐ´ÑŒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²! ðŸ˜»",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÐ¿Ð¾Ñ€Ñ‚ÑÐ¼ÐµÐ½! ðŸ’ª",
    "Ð’Ð¾Ð´Ð° â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ Ð´Ñ€ÑƒÐ³ ÐºÐ¾Ñ‚Ð¸ÐºÐ°! ðŸ¾",
    "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ ÑˆÐ°Ð³ Ðº Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑŽ, ÐºÐ¾Ñ‚Ð¸Ðº! ðŸŒˆ",
    "ÐœÑÑƒ! Ð¢Ñ‹ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑˆÑŒ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÐ¸! ðŸ¥¤",
    "Ð¢Ñ‹ â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº Ð½Ð° ÑÐ²ÐµÑ‚Ðµ! â¤ï¸",
    "ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð³Ð»Ð¾Ñ‚Ð¾Ðº Ð²Ð¾Ð´Ñ‹ â€” ÑÑ‚Ð¾ Ð·Ð°Ð±Ð¾Ñ‚Ð° Ð¾ ÑÐµÐ±Ðµ! ðŸ’–",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº, Ð¸ Ð±ÑƒÐ´ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²! ðŸŒž",
    "Ð¢Ñ‹ ÑÐ¿Ñ€Ð°Ð²Ð¸ÑˆÑŒÑÑ Ñ Ð»ÑŽÐ±Ñ‹Ð¼Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð°Ð¼Ð¸! ðŸ’ª",
    "Ð’Ð¾Ð´Ð° â€” Ñ‚Ð²Ð¾Ð¹ ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑÑ‡Ð°ÑÑ‚ÑŒÑ! ðŸŒˆ",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ð¼ÐµÑ‡Ñ‚Ð°! ðŸ˜»",
    "ÐÐµ Ð·Ð°Ð±Ñ‹Ð²Ð°Ð¹ Ð¿Ñ€Ð¾ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¼Ð¸Ð»Ñ‹Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ±",
    "Ð¢Ñ‹ â€” ÑÑƒÐ¿ÐµÑ€ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ’ª",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÐµÑ‰Ñ‘ Ð±Ð¾Ð»ÐµÐµ Ð¿Ð¾Ñ‚Ñ€ÑÑÐ°ÑŽÑ‰Ð¸Ð¼! ðŸŒŸ",
    "ÐœÑÑƒ-Ð¼ÑÑƒ! Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! ðŸ¾",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ð¿ÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ñ‹Ñ‚ÑŒ ÑÐ¸Ð»ÑŒÐ½Ñ‹Ð¼! ðŸ’ª",
    "Ð’Ð¾Ð´Ð° â€” Ñ‚Ð²Ð¾Ð¹ Ð´Ñ€ÑƒÐ³, ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ¾",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ð³ÐµÑ€Ð¾Ð¹! ðŸ¦¸â€â™‚ï¸",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð¿ÑƒÑÑ‚ÑŒ Ð´ÐµÐ½ÑŒ Ð±ÑƒÐ´ÐµÑ‚ ÑÐ¾Ð»Ð½ÐµÑ‡Ð½Ñ‹Ð¼! â˜€ï¸",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐµÐ½! ðŸŒˆ",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð¾Ð²ÑŒ Ðº ÑÐµÐ±Ðµ! ðŸ’–",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½! ðŸ†",
    "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð¼Ð¸Ñ€ Ð»ÑƒÑ‡ÑˆÐµ! ðŸŒ",
    "ÐœÑÑƒ! Ð¢Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑÑƒÐ¿ÐµÑ€! ðŸ¾",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ð¼! ðŸ˜Š",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð¼ÐµÐ½! ðŸ¦¸â€â™€ï¸",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº, Ð¸ Ð±ÑƒÐ´ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²! ðŸŒŸ",
    "Ð¢Ñ‹ â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº Ð½Ð° ÑÐ²ÐµÑ‚Ðµ! â¤ï¸",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑˆÑŒ Ð²ÑÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾! ðŸŒˆ",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ ÑÐ¸Ð»Ð°! ðŸ’ª",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ð·Ð²ÐµÐ·Ð´Ð°! âœ¨",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð¿ÑƒÑÑ‚ÑŒ Ñ‚Ð²Ð¾Ð¹ Ð´ÐµÐ½ÑŒ Ð±ÑƒÐ´ÐµÑ‚ ÑÑ€ÐºÐ¸Ð¼! ðŸŒˆ",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ ÑÑƒÐ¿ÐµÑ€! ðŸ±",
    "Ð’Ð¾Ð´Ð° â€” Ñ‚Ð²Ð¾Ð¹ ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑƒÑÐ¿ÐµÑ…Ð°! ðŸŒŸ",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ñ„ÐµÐ½Ð¾Ð¼ÐµÐ½! ðŸ¦„",
    "ÐœÑÑƒ-Ð¼ÑÑƒ! Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! ðŸ¾",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð±ÑƒÐ´ÑŒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²! ðŸ˜»",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐµÐ½! ðŸ’–",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð¾Ð²ÑŒ Ðº ÑÐµÐ±Ðµ! ðŸ’•",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð³ÐµÑ€Ð¾Ð¹! ðŸ¦¸â€â™‚ï¸",
    "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð¼Ð¸Ñ€ Ð»ÑƒÑ‡ÑˆÐµ! ðŸŒ",
    "ÐœÑÑƒ! Ð¢Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑÑƒÐ¿ÐµÑ€! ðŸ¾",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ð¼! ðŸ˜Š",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð¼ÐµÐ½! ðŸ¦¸â€â™€ï¸",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº, Ð¸ Ð±ÑƒÐ´ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²! ðŸŒŸ",
    "Ð¢Ñ‹ â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº Ð½Ð° ÑÐ²ÐµÑ‚Ðµ! â¤ï¸",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑˆÑŒ Ð²ÑÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾! ðŸŒˆ",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ ÑÐ¸Ð»Ð°! ðŸ’ª",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ð·Ð²ÐµÐ·Ð´Ð°! âœ¨",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð¿ÑƒÑÑ‚ÑŒ Ñ‚Ð²Ð¾Ð¹ Ð´ÐµÐ½ÑŒ Ð±ÑƒÐ´ÐµÑ‚ ÑÑ€ÐºÐ¸Ð¼! ðŸŒˆ",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ ÑÑƒÐ¿ÐµÑ€! ðŸ±",
    "Ð’Ð¾Ð´Ð° â€” Ñ‚Ð²Ð¾Ð¹ ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑƒÑÐ¿ÐµÑ…Ð°! ðŸŒŸ",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ñ„ÐµÐ½Ð¾Ð¼ÐµÐ½! ðŸ¦„",
    "ÐœÑÑƒ-Ð¼ÑÑƒ! Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! ðŸ¾",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð±ÑƒÐ´ÑŒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²! ðŸ˜»",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐµÐ½! ðŸ’–",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð¾Ð²ÑŒ Ðº ÑÐµÐ±Ðµ! ðŸ’•",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð³ÐµÑ€Ð¾Ð¹! ðŸ¦¸â€â™‚ï¸",
    "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð¼Ð¸Ñ€ Ð»ÑƒÑ‡ÑˆÐµ! ðŸŒ",
    "ÐœÑÑƒ! Ð¢Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑÑƒÐ¿ÐµÑ€! ðŸ¾",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ð¼! ðŸ˜Š",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð¼ÐµÐ½! ðŸ¦¸â€â™€ï¸",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº, Ð¸ Ð±ÑƒÐ´ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²! ðŸŒŸ",
    "Ð¢Ñ‹ â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº Ð½Ð° ÑÐ²ÐµÑ‚Ðµ! â¤ï¸",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑˆÑŒ Ð²ÑÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾! ðŸŒˆ",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ ÑÐ¸Ð»Ð°! ðŸ’ª",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ð·Ð²ÐµÐ·Ð´Ð°! âœ¨",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð¿ÑƒÑÑ‚ÑŒ Ñ‚Ð²Ð¾Ð¹ Ð´ÐµÐ½ÑŒ Ð±ÑƒÐ´ÐµÑ‚ ÑÑ€ÐºÐ¸Ð¼! ðŸŒˆ",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ ÑÑƒÐ¿ÐµÑ€! ðŸ±",
    "Ð’Ð¾Ð´Ð° â€” Ñ‚Ð²Ð¾Ð¹ ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑƒÑÐ¿ÐµÑ…Ð°! ðŸŒŸ",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ñ„ÐµÐ½Ð¾Ð¼ÐµÐ½! ðŸ¦„",
    "ÐœÑÑƒ-Ð¼ÑÑƒ! Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! ðŸ¾",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð±ÑƒÐ´ÑŒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²! ðŸ˜»",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐµÐ½! ðŸ’–",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð¾Ð²ÑŒ Ðº ÑÐµÐ±Ðµ! ðŸ’•",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð³ÐµÑ€Ð¾Ð¹! ðŸ¦¸â€â™‚ï¸",
    "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð¼Ð¸Ñ€ Ð»ÑƒÑ‡ÑˆÐµ! ðŸŒ",
    "ÐœÑÑƒ! Ð¢Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑÑƒÐ¿ÐµÑ€! ðŸ¾",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ð¼! ðŸ˜Š",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð¼ÐµÐ½! ðŸ¦¸â€â™€ï¸",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº, Ð¸ Ð±ÑƒÐ´ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²! ðŸŒŸ",
    "Ð¢Ñ‹ â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº Ð½Ð° ÑÐ²ÐµÑ‚Ðµ! â¤ï¸",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑˆÑŒ Ð²ÑÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾! ðŸŒˆ",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ ÑÐ¸Ð»Ð°! ðŸ’ª",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ð·Ð²ÐµÐ·Ð´Ð°! âœ¨",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð¿ÑƒÑÑ‚ÑŒ Ñ‚Ð²Ð¾Ð¹ Ð´ÐµÐ½ÑŒ Ð±ÑƒÐ´ÐµÑ‚ ÑÑ€ÐºÐ¸Ð¼! ðŸŒˆ",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ ÑÑƒÐ¿ÐµÑ€! ðŸ±",
    "Ð’Ð¾Ð´Ð° â€” Ñ‚Ð²Ð¾Ð¹ ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑƒÑÐ¿ÐµÑ…Ð°! ðŸŒŸ",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ñ„ÐµÐ½Ð¾Ð¼ÐµÐ½! ðŸ¦„",
    "ÐœÑÑƒ-Ð¼ÑÑƒ! Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! ðŸ¾",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð±ÑƒÐ´ÑŒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²! ðŸ˜»",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐµÐ½! ðŸ’–",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð¾Ð²ÑŒ Ðº ÑÐµÐ±Ðµ! ðŸ’•",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð³ÐµÑ€Ð¾Ð¹! ðŸ¦¸â€â™‚ï¸",
    "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð¼Ð¸Ñ€ Ð»ÑƒÑ‡ÑˆÐµ! ðŸŒ",
    "ÐœÑÑƒ! Ð¢Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑÑƒÐ¿ÐµÑ€! ðŸ¾",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ð¼! ðŸ˜Š",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð¼ÐµÐ½! ðŸ¦¸â€â™€ï¸",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº, Ð¸ Ð±ÑƒÐ´ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²! ðŸŒŸ",
    "Ð¢Ñ‹ â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº Ð½Ð° ÑÐ²ÐµÑ‚Ðµ! â¤ï¸",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑˆÑŒ Ð²ÑÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾! ðŸŒˆ",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ ÑÐ¸Ð»Ð°! ðŸ’ª",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ð·Ð²ÐµÐ·Ð´Ð°! âœ¨",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð¿ÑƒÑÑ‚ÑŒ Ñ‚Ð²Ð¾Ð¹ Ð´ÐµÐ½ÑŒ Ð±ÑƒÐ´ÐµÑ‚ ÑÑ€ÐºÐ¸Ð¼! ðŸŒˆ",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ ÑÑƒÐ¿ÐµÑ€! ðŸ±",
    "Ð’Ð¾Ð´Ð° â€” Ñ‚Ð²Ð¾Ð¹ ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑƒÑÐ¿ÐµÑ…Ð°! ðŸŒŸ",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ñ„ÐµÐ½Ð¾Ð¼ÐµÐ½! ðŸ¦„",
    "ÐœÑÑƒ-Ð¼ÑÑƒ! Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! ðŸ¾",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð±ÑƒÐ´ÑŒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²! ðŸ˜»",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐµÐ½! ðŸ’–",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð¾Ð²ÑŒ Ðº ÑÐµÐ±Ðµ! ðŸ’•",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð³ÐµÑ€Ð¾Ð¹! ðŸ¦¸â€â™‚ï¸",
    "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð¼Ð¸Ñ€ Ð»ÑƒÑ‡ÑˆÐµ! ðŸŒ",
    "ÐœÑÑƒ! Ð¢Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑÑƒÐ¿ÐµÑ€! ðŸ¾",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ð¼! ðŸ˜Š",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð¼ÐµÐ½! ðŸ¦¸â€â™€ï¸",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº, Ð¸ Ð±ÑƒÐ´ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²! ðŸŒŸ",
    "Ð¢Ñ‹ â€” Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº Ð½Ð° ÑÐ²ÐµÑ‚Ðµ! â¤ï¸",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑˆÑŒ Ð²ÑÐµÐ³Ð¾ ÑÐ°Ð¼Ð¾Ð³Ð¾ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾! ðŸŒˆ",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ ÑÐ¸Ð»Ð°! ðŸ’ª",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ð·Ð²ÐµÐ·Ð´Ð°! âœ¨",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð¿ÑƒÑÑ‚ÑŒ Ñ‚Ð²Ð¾Ð¹ Ð´ÐµÐ½ÑŒ Ð±ÑƒÐ´ÐµÑ‚ ÑÑ€ÐºÐ¸Ð¼! ðŸŒˆ",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ ÑÑƒÐ¿ÐµÑ€! ðŸ±",
    "Ð’Ð¾Ð´Ð° â€” Ñ‚Ð²Ð¾Ð¹ ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚ Ð´Ð»Ñ ÑƒÑÐ¿ÐµÑ…Ð°! ðŸŒŸ",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-Ñ„ÐµÐ½Ð¾Ð¼ÐµÐ½! ðŸ¦„",
    "ÐœÑÑƒ-Ð¼ÑÑƒ! Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! ðŸ¾",
    "ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¸ Ð±ÑƒÐ´ÑŒ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²! ðŸ˜»",
    "ÐšÐ¾Ñ‚Ð¸Ðº, Ñ‚Ñ‹ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐµÐ½! ðŸ’–",
    "Ð’Ð¾Ð´Ð° â€” ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð¾Ð²ÑŒ Ðº ÑÐµÐ±Ðµ! ðŸ’•",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð³ÐµÑ€Ð¾Ð¹! ðŸ¦¸â€â™‚ï¸",
    "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð¼Ð¸Ñ€ Ð»ÑƒÑ‡ÑˆÐµ! ðŸŒ",
    "ÐœÑÑƒ! Ð¢Ñ‹ ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑÑƒÐ¿ÐµÑ€! ðŸ¾",
    "Ð’Ð¾Ð´Ð° Ð´ÐµÐ»Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ ÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ð¼! ðŸ˜Š",
    "Ð¢Ñ‹ â€” ÐºÐ¾Ñ‚Ð¸Ðº-ÑÑƒÐ¿ÐµÑ€Ð¼ÐµÐ½! ðŸ¦¸â€â™€ï¸",
    ]


user_data = {}  


async def send_reminder(context: ContextTypes.DEFAULT_TYPE):
    user_id = context.job.data['user_id']
    chat_id = context.job.data['chat_id']
    
    
    if random.random() > 0.5:
        quote = random.choice(CAT_QUOTES)
        text = f"{quote}\n\nÐœÑÑƒ! ÐŸÐ¾Ñ€Ð° Ð½Ð°Ð¿Ð¸Ñ‚ÑŒÑÑ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÐ¸ Ð´Ð»Ñ ÐºÐ¾Ñ‚Ð¸ÐºÐ° ðŸ¾ðŸ’§"
    else:
        text = "ÐœÑÑƒ! ÐŸÐ¾Ñ€Ð° Ð½Ð°Ð¿Ð¸Ñ‚ÑŒÑÑ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÐ¸ Ð´Ð»Ñ ÐºÐ¾Ñ‚Ð¸ÐºÐ° ðŸ¾ðŸ’§"
    
    keyboard = InlineKeyboardMarkup.from_row([
        InlineKeyboardButton("Ð¯ Ð²Ñ‹Ð¿Ð¸Ð» Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ ðŸ¥¤", callback_data='drink_confirmed')
    ])
    await context.bot.send_message(
        chat_id=chat_id,
        text=text,
        reply_markup=keyboard
    )


async def send_wake_up_message(context: ContextTypes.DEFAULT_TYPE):
    for user_id in list(user_data.keys()):
        keyboard = InlineKeyboardMarkup.from_row([
            InlineKeyboardButton("Ð¯ Ð¿Ñ€Ð¾ÑÐ½ÑƒÐ»ÑÑ ðŸŒž", callback_data='wake_up')
        ])
        try:
            await context.bot.send_message(
                chat_id=user_id,
                text="Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾, Ð¼Ð¸Ð»Ñ‹Ð¹ ÐºÐ¾Ñ‚Ñ‘Ð½Ð¾Ðº! ðŸŒžðŸ± ÐŸÐ¾Ñ€Ð° Ð²ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒ Ð¸ Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ!",
                reply_markup=keyboard
            )
        except Exception as e:
            print(f"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ wake-up ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ {user_id}: {e}")
            if "Forbidden: bot was blocked by the user" in str(e):
                del user_data[user_id]


async def daily_stats(context: ContextTypes.DEFAULT_TYPE):
    for user_id in list(user_data.keys()):
        glasses = user_data[user_id].get('glasses', 0)
        
        if glasses >= AVERAGE_GLASSES_PER_DAY:
            message = f"ðŸ“Š Ð¢Ñ‹ Ð²Ñ‹Ð¿Ð¸Ð» {glasses} ÑÑ‚Ð°ÐºÐ°Ð½Ð¾Ð² Ð²Ð¾Ð´Ð¸Ñ‡ÐºÐ¸ Ð·Ð° Ð´ÐµÐ½ÑŒ! Ð¢Ñ‹ Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÐºÐ¾Ñ‚Ñ‘Ð½Ð¾Ðº! ðŸ±ðŸ’–"
        else:
            message = f"ðŸ“Š Ð¢Ñ‹ Ð²Ñ‹Ð¿Ð¸Ð» {glasses} ÑÑ‚Ð°ÐºÐ°Ð½Ð¾Ð² Ð²Ð¾Ð´Ð¸Ñ‡ÐºÐ¸ ÑÐµÐ³Ð¾Ð´Ð½Ñ. Ð”Ð°Ð²Ð°Ð¹ Ð´Ð¾Ð±Ð°Ð²Ð¸Ð¼ ÐµÑ‰Ñ‘, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²Ñ‹Ð¼! ðŸ¥¤ðŸ’§"
        
        try:
            await context.bot.send_message(chat_id=user_id, text=message)
        except Exception as e:
            print(f"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ {user_id}: {e}")
            if "Forbidden: bot was blocked by the user" in str(e):
                del user_data[user_id]
                continue
        
        user_data[user_id]['glasses'] = 0
        user_data[user_id]['reminders_active'] = False


def start_reminders(context: ContextTypes.DEFAULT_TYPE, user_id, chat_id):
    now = datetime.now(timezone.utc)
    end_time = now.replace(hour=19, minute=0, second=0, microsecond=0)
    if now > end_time:
        return
    
    wake_time = now
    total_minutes = (end_time - wake_time).total_seconds() / 60
    if total_minutes <= 0:
        return
    interval_minutes = total_minutes / AVERAGE_GLASSES_PER_DAY

    for i in range(AVERAGE_GLASSES_PER_DAY):
        reminder_time = wake_time + timedelta(minutes=i * interval_minutes)
        if reminder_time < now:
            continue
        delay = (reminder_time - now).total_seconds()
        context.job_queue.run_once(
            send_reminder,
            when=delay,
            data={'user_id': user_id, 'chat_id': chat_id}
        )


async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    user_id = query.from_user.id
    chat_id = query.message.chat_id

    if user_id not in user_data:
        user_data[user_id] = {'glasses': 0, 'reminders_active': False}

    if query.data == 'wake_up':
        if user_data[user_id]['reminders_active']:
            await query.edit_message_text(text="ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ ÑƒÐ¶Ðµ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹!")
            return
        user_data[user_id]['reminders_active'] = True
        start_reminders(context, user_id, chat_id)
        await query.edit_message_text(text="Ð£Ñ€Ð°! Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ñ Ð±ÑƒÐ´Ñƒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ñ‚ÑŒ Ñ‚ÐµÐ±Ðµ Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ±ðŸ’§")

    elif query.data == 'drink_confirmed':
        user_data[user_id]['glasses'] += 1
        await query.edit_message_text(text="âœ… ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð¢Ñ‹ Ð²Ñ‹Ð¿Ð¸Ð» Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ, Ð¼Ð¸Ð»Ñ‹Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ±ðŸ’§")


async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.effective_user.id
    if user_id not in user_data:
        user_data[user_id] = {'glasses': 0, 'reminders_active': False}
    
    await update.message.reply_text(
        "ÐŸÑ€Ð¸Ð²ÐµÑ‚, Ð¼Ð¸Ð»Ñ‹Ð¹ ÐºÐ¾Ñ‚Ð¸Ðº! ðŸ±\n\n"
        "Ð¯ â€” Ñ‚Ð²Ð¾Ð¹ Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð²Ð¾Ð´ÑÐ½Ð¾Ð¹ ÐºÐ¾Ñ‚-Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð»ÐºÐ°! ðŸ’§\n\n"
        "â€¢ Ð’ 6:00 ÑƒÑ‚Ñ€Ð° Ñ Ð¿Ñ€Ð¸ÑˆÐ»ÑŽ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ 'Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾, ÐºÐ¾Ñ‚Ñ‘Ð½Ð¾Ðº!'\n"
        "â€¢ ÐŸÐ¾ÑÐ»Ðµ Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ñ 'Ð¯ Ð¿Ñ€Ð¾ÑÐ½ÑƒÐ»ÑÑ' Ñ Ð±ÑƒÐ´Ñƒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ñ‚ÑŒ Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ Ñ€Ð°Ð²Ð½Ð¾Ð¼ÐµÑ€Ð½Ð¾ Ð´Ð¾ 22:00\n"
        "â€¢ Ð’ 22:00 Ñ Ð¿Ñ€Ð¸ÑˆÐ»ÑŽ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ Ð·Ð° Ð´ÐµÐ½ÑŒ\n\n"
        "ÐÐ¾Ñ€Ð¼Ð°: 10 ÑÑ‚Ð°ÐºÐ°Ð½Ð¾Ð² (2.5 Ð»Ð¸Ñ‚Ñ€Ð°) Ð² Ð´ÐµÐ½ÑŒ. ÐŸÐµÐ¹ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ Ð¸ Ð±ÑƒÐ´ÑŒ Ð·Ð´Ð¾Ñ€Ð¾Ð²! ðŸŒˆ"
    )


async def send_random_quote(context: ContextTypes.DEFAULT_TYPE):
    
    quote = random.choice(CAT_QUOTES)
    for user_id in list(user_data.keys()):
        if user_data[user_id].get('reminders_active', False):
            try:
                await context.bot.send_message(chat_id=user_id, text=quote)
            except Exception as e:
                if "Forbidden: bot was blocked by the user" in str(e):
                    del user_data[user_id]
    
    
    next_interval = random.randint(3600, 10800)  
    context.job_queue.run_once(send_random_quote, when=next_interval)

def main():
    app = Application.builder().token(BOT_TOKEN).build()

    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(button_handler))

    
    app.job_queue.run_daily(
        callback=send_wake_up_message,
        time=time(3, 0),
        name="wake_up_message"
    )

    
    app.job_queue.run_daily(
        callback=daily_stats,
        time=time(19, 0),
        name="daily_stats"
    )

    
    context = app.job_queue
    context.run_once(send_random_quote, when=0)  

    app.run_polling()

if __name__ == "__main__":
    main()